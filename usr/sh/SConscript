# SPDX-License-Identifier: BSD-3-Clause
"""
sh - Shell application build configuration.
"""

from SCons.Script import Dir, Export

from scripts.scons.utility import GlobSources

Import('usermode_env')

env = usermode_env.Clone()

src_dir = Dir('#usr/sh').abspath

env.Append(
    CPATH=[src_dir],
    CPPPATH=[src_dir],
)

sources = GlobSources(src_dir)
objects = env.Object(sources)

sh_executable = env.Program('sh', objects)

sh_module = sh_executable
Export('sh_module')
